from setuptools import setup
import platform

# Determine the platform and Python version
package = 'pyenergyplus'
plat = platform.system().lower()
machine = platform.machine().lower()
py_version = platform.python_version_tuple()
py_version_str = f"{py_version[0]}{py_version[1]}"
wheels = {
    "darwin": {
        "x86_64": {
            "wheel": "macosx_10_13_x86_64",
            "zip_tag": "OSX",
            "build_tool": "Ninja",
        },
        "arm64": {
            "wheel": "macosx_11_0_arm64",
            "zip_tag": "OSX_arm64",
            "build_tool": "Ninja",
        },
    },
    "linux": {
        "x86_64": {
            "wheel": "manylinux1_x86_64",
            "zip_tag": "Linux",
            "build_tool": "Ninja",
        }
    },
    "windows": {
        "i386": {
            "wheel": "win32",
            "zip_tag": "Windows",
            "arch": "x64",
            "build_tool": "Visual Studio 16 2019",
        },
        "amd64": {
            "wheel": "win_amd64",
            "zip_tag": "Windows",
            "arch": "x64",
            "build_tool": "Visual Studio 16 2019",
        },
    },
}

wheel = f"{package}-23.1.0-py3-none-{wheels[plat][machine]['wheel']}.whl"

# Define the URL template for the wheels
url = f"https://github.com/taoning/pyenergyplus/raw/main/wheels/{plat}/{wheel}"


setup(
    name='pyenergyplus_wheels',
    version='0.1.0',
    install_requires=[f'pyenergyplus @ {url}'],
)
